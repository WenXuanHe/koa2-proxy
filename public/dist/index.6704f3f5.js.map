{"version":3,"sources":["webpack:///index.6704f3f5.js","webpack:///./public/src/javascripts/Thumb.js","webpack:///./public/src/javascripts/components/x-praise.js","webpack:///./public/src/javascripts/addOne.js","webpack:///./public/src/javascripts/thrities.js","webpack:///./public/src/javascripts/components/x-star.js"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_addOne","_thrities","_thrities2","xtag","register","content","lifecycle","created","this","thrities","addOne","methods","praiseClick","elem","_this","then","res","catch","err","alert","message","accessors","data-id","attribute","id","get","set","value","data-number","number","$","find","text","data-name","name","events","click","e","target","className","Object","defineProperty","proxy_url","axios","post","param","url","type","data","code","cb","canRun","apply","arguments"],"mappings":"AAAAA,cAAc,EAAE,IAEV,SAAUC,EAAQC,EAASC,GAEhC,YCFDA,GAAA,GACAA,EAAA,GACAA,EAAA,IDUM,SAAUF,EAAQC,KAKjB,CACA,CACA,CACA,CAED,SAAUD,EAAQC,EAASC,GAEhC,YAQA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GElCxF,GAAAG,GAAAL,EAAA,GACAM,EAAAN,EAAA,GF+BKO,EAAaN,EAAuBK,EE7BzCE,MAAKC,SAAS,YAEZC,2JAMAC,WACEC,QAAS,WACLC,KAAKC,UAAW,EAAAP,EAAAH,UAAS,EAAAC,EAAAU,QAAO,aAGtCC,SAEEC,YAFM,SAEMC,GAAM,GAAAC,GAAAN,IAEdA,MAAKC,SAASD,KAAK,YAAYO,KAAK,SAACC,GACjCF,EAAK,iBAAmBA,EAAK,iBAG9BG,MAAM,SAAUC,GACfC,MAAMD,EAAIE,aAKpBC,WACEC,WACIC,WACIC,GAAG,GAEPC,IAAK,WACD,MAAOjB,MAAKgB,IAEhBE,IAAK,SAASC,GACVnB,KAAKgB,GAAKG,IAIlBC,eACIL,WACIM,OAAO,GAEXJ,IAAK,WACD,MAAOjB,MAAKqB,QAEhBH,IAAK,SAASC,GAEVnB,KAAKqB,OAASF,EACdG,EAAEtB,MAAMuB,KAAK,iBAAiBC,KAAKL,KAI3CM,aACIV,WACIW,KAAK,IAETT,IAAK,WACD,MAAOjB,MAAK0B,MAEhBR,IAAK,SAASC,GAEVnB,KAAK0B,KAAOP,EACZG,EAAEtB,MAAMuB,KAAK,eAAeC,KAAKL,MAM3CQ,QACEC,MAAM,SAASC,GACe,UAAvBA,EAAEC,OAAOC,WACR/B,KAAKI,YAAYyB,EAAEC,aFqCzB,SAAU7C,EAAQC,GAEvB,YAEA8C,QAAOC,eAAe/C,EAAS,cAC3BiC,OAAO,GGtHCjB,UAAS,SAAUgC,GAC5B,GAA0B,mBAAfC,OAAMC,KAEb,WADAzB,OAAM,oBAGV,IAAI0B,IACAC,IAAK,uCACLC,KAAM,OACNC,QAEJ,OAAO,UAAUxB,GAEb,MADAqB,GAAMG,KAAKxB,GAAKA,EACTmB,MAAMC,KAAKF,EAAWG,GAAO9B,KAAK,SAAUC,GAE/C,MADAA,GAAMA,EAAIgC,KACLhC,EAAIiC,KAIFjC,MAHHG,OAAMH,EAAII,cHkIpB,SAAU3B,EAAQC,GAEvB,YAEA8C,QAAOC,eAAe/C,EAAS,cAC3BiC,OAAO,IAQXjC,EAAQK,QIzJM,SAACmD,GAEZ,GAAkB,kBAAPA,GAAmB,KAAM,uBACpC,IAAIC,IAAS,CACb,OAAO,YACH,GAAKA,EAEL,MADAA,IAAS,EACFD,EAAGE,MAAM5C,KAAM6C,WAAWtC,KAAK,SAAUC,GAE5C,MADAmC,IAAS,EACFnC,OJgKb,SAAUvB,EAAQC,EAASC,GAEhC,YAQA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GKxLxF,GAAAG,GAAAL,EAAA,GACAM,EAAAN,EAAA,GLqLKO,EAAaN,EAAuBK,EKnLzCE,MAAKC,SAAS,UAEZC,wCAEAC,WACEC,QAAS,WACLC,KAAKC,UAAW,EAAAP,EAAAH,UAAS,EAAAC,EAAAU,QAAO,aAGtCC,SAEEC,YAFM,SAEMC,GAAM,GAAAC,GAAAN,IAEdA,MAAKC,SAASD,KAAK,YAAYO,KAAK,SAACC,GACjCF,EAAK,iBAAmBA,EAAK,iBAG9BG,MAAM,SAAUC,GACfC,MAAMD,EAAIE,aAIpBe,QACEC,MAAM,SAASC,GACe,SAAvBA,EAAEC,OAAOC,WACR/B,KAAKI,YAAYyB,EAAEC","file":"index.6704f3f5.js","sourcesContent":["webpackJsonp([0,1],[\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(1);\n\t\n\t__webpack_require__(6);\n\t\n\t__webpack_require__(9);\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _addOne = __webpack_require__(7);\n\t\n\tvar _thrities = __webpack_require__(8);\n\t\n\tvar _thrities2 = _interopRequireDefault(_thrities);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\txtag.register('x-praise', {\n\t\n\t    content: '<div>\\n        <span data-name></span>\\n        <span class=\"count\" data-number></span>\\n        <button class=\\'thumb\\'>\\u70B9\\u8D5E</button>\\n    </div>',\n\t\n\t    lifecycle: {\n\t        created: function created() {\n\t            this.thrities = (0, _thrities2.default)((0, _addOne.addOne)('/proxy'));\n\t        }\n\t    },\n\t    methods: {\n\t        praiseClick: function praiseClick(elem) {\n\t            var _this = this;\n\t\n\t            this.thrities(this['data-id']).then(function (res) {\n\t                _this['data-number'] = ++_this['data-number'];\n\t                ////渲染页面\n\t                // this.render(elem);\n\t            }).catch(function (err) {\n\t                alert(err.message);\n\t            });\n\t        }\n\t    },\n\t\n\t    accessors: {\n\t        'data-id': {\n\t            attribute: {\n\t                id: 0\n\t            },\n\t            get: function get() {\n\t                return this.id;\n\t            },\n\t            set: function set(value) {\n\t                this.id = value;\n\t            }\n\t        },\n\t\n\t        'data-number': {\n\t            attribute: {\n\t                number: 0\n\t            },\n\t            get: function get() {\n\t                return this.number;\n\t            },\n\t            set: function set(value) {\n\t\n\t                this.number = value;\n\t                $(this).find('[data-number]').text(value);\n\t            }\n\t        },\n\t\n\t        'data-name': {\n\t            attribute: {\n\t                name: ''\n\t            },\n\t            get: function get() {\n\t                return this.name;\n\t            },\n\t            set: function set(value) {\n\t\n\t                this.name = value;\n\t                $(this).find('[data-name]').text(value);\n\t            }\n\t        }\n\t\n\t    },\n\t\n\t    events: {\n\t        click: function click(e) {\n\t            if (e.target.className === 'thumb') {\n\t                this.praiseClick(e.target);\n\t            }\n\t        }\n\t    }\n\t});\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar addOne = exports.addOne = function addOne(proxy_url) {\n\t    if (typeof axios.post === 'undefined') {\n\t        alert('axios is not exit');\n\t        return;\n\t    }\n\t    var param = {\n\t        url: 'http://localhost/thumb_php/thumb.php',\n\t        type: 'POST',\n\t        data: {}\n\t    };\n\t    return function (id) {\n\t        param.data.id = id;\n\t        return axios.post(proxy_url, param).then(function (res) {\n\t            res = res.data;\n\t            if (!res.code) {\n\t                alert(res.message);\n\t                return;\n\t            }\n\t            return res;\n\t        });\n\t    };\n\t};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\t/**\r\n\t * 节流函数，在一定的时间范围内阻止请求\r\n\t * @param {*cb} 是一个返回promise的函数\r\n\t */\n\t\n\texports.default = function (cb) {\n\t\n\t    if (typeof cb !== 'function') throw 'cb must is a function';\n\t    var canRun = true;\n\t    return function () {\n\t        if (!canRun) return;\n\t        canRun = false;\n\t        return cb.apply(this, arguments).then(function (res) {\n\t            canRun = true;\n\t            return res;\n\t        });\n\t    };\n\t};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _addOne = __webpack_require__(7);\n\t\n\tvar _thrities = __webpack_require__(8);\n\t\n\tvar _thrities2 = _interopRequireDefault(_thrities);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\txtag.register('x-star', {\n\t\n\t    content: '<div class=\"star\">\\u4E94\\u89D2\\u661F\\u70B9\\u8D5E</div>',\n\t\n\t    lifecycle: {\n\t        created: function created() {\n\t            this.thrities = (0, _thrities2.default)((0, _addOne.addOne)('/proxy'));\n\t        }\n\t    },\n\t    methods: {\n\t        praiseClick: function praiseClick(elem) {\n\t            var _this = this;\n\t\n\t            this.thrities(this['data-id']).then(function (res) {\n\t                _this['data-number'] = ++_this['data-number'];\n\t                ////渲染页面\n\t                // this.render(elem);\n\t            }).catch(function (err) {\n\t                alert(err.message);\n\t            });\n\t        }\n\t    },\n\t    events: {\n\t        click: function click(e) {\n\t            if (e.target.className === 'star') {\n\t                this.praiseClick(e.target);\n\t            }\n\t        }\n\t    }\n\t});\n\n/***/ })\n]);\n\n\n// WEBPACK FOOTER //\n// index.6704f3f5.js","// import PraiseButton from './PraiseButton.js';\r\n// import './common/jquery.min.js';\r\nimport '$css/style.scss';\r\nimport './components/x-praise';\r\nimport './components/x-star';\r\n// export class Thumb extends PraiseButton{\r\n// \tconstructor(){\r\n// \t\tsuper(...arguments);\r\n// \t}\r\n\r\n// \tpraise(elem){\r\n// \t\tthis.praiseClick(elem);\r\n// \t}\r\n// }\r\n\r\n// **\r\n// 如何书写面向对象？\r\n// 我把元素封装在了子类的内部，\r\n// 这样不利于维护，要区分哪些是需要传O递的，\r\n// 哪些是需要封装的，这个很重要\r\n\r\n// $.extend({\r\n// \tthumb : function(num, elem){\r\n// \t\treturn new Thumb(num, elem);\r\n// \t}\r\n// });\r\n\r\n// const thumb = new Thumb(0, '.thumb');\r\n// thumb.praise('.count');\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./public/src/javascripts/Thumb.js","import { addOne } from '../addOne';\r\nimport thrities from '../thrities';\r\n\r\nxtag.register('x-praise', {\r\n\r\n  content: `<div>\r\n        <span data-name></span>\r\n        <span class=\"count\" data-number></span>\r\n        <button class='thumb'>点赞</button>\r\n    </div>`,\r\n\r\n  lifecycle:{\r\n    created: function(){\r\n        this.thrities = thrities(addOne('/proxy'));\r\n    }\r\n  },\r\n  methods:{\r\n\r\n    praiseClick(elem) {\r\n\r\n        this.thrities(this['data-id']).then((res)=>{\r\n            this['data-number'] = ++this['data-number'];\r\n            ////渲染页面\r\n            // this.render(elem);\r\n        }).catch(function (err) {\r\n            alert(err.message);\r\n        });\r\n    }\r\n  },\r\n\r\n  accessors:{\r\n    'data-id':{\r\n        attribute:{\r\n            id:0\r\n        },\r\n        get: function(){\r\n            return this.id;\r\n        },\r\n        set: function(value){\r\n            this.id = value;\r\n        }\r\n    },\r\n\r\n    'data-number':{\r\n        attribute:{\r\n            number:0\r\n        },\r\n        get: function(){\r\n            return this.number;\r\n        },\r\n        set: function(value){\r\n\r\n            this.number = value;\r\n            $(this).find('[data-number]').text(value);\r\n        }\r\n    },\r\n\r\n    'data-name':{\r\n        attribute:{\r\n            name:''\r\n        },\r\n        get: function(){\r\n            return this.name;\r\n        },\r\n        set: function(value){\r\n\r\n            this.name = value;\r\n            $(this).find('[data-name]').text(value);\r\n        }\r\n    },\r\n\r\n  },\r\n\r\n  events:{\r\n    click:function(e){\r\n        if(e.target.className === 'thumb'){\r\n            this.praiseClick(e.target);\r\n        }\r\n    }\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./public/src/javascripts/components/x-praise.js","export const addOne = function (proxy_url) {\r\n    if (typeof axios.post === 'undefined') {\r\n        alert('axios is not exit');\r\n        return;\r\n    }\r\n    var param = {\r\n        url: 'http://localhost/thumb_php/thumb.php',\r\n        type: 'POST',\r\n        data: {}\r\n    };\r\n    return function (id) {\r\n        param.data.id = id;\r\n        return axios.post(proxy_url, param).then(function (res) {\r\n            res = res.data;\r\n            if (!res.code) {\r\n                alert(res.message);\r\n                return;\r\n            }\r\n            return res;\r\n        })\r\n    }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./public/src/javascripts/addOne.js","/**\r\n * 节流函数，在一定的时间范围内阻止请求\r\n * @param {*cb} 是一个返回promise的函数\r\n */\r\n\r\nexport default (cb) => {\r\n\r\n    if (typeof cb !== 'function') throw 'cb must is a function';\r\n    let canRun = true;\r\n    return function () {\r\n        if (!canRun) return;\r\n        canRun = false;\r\n        return cb.apply(this, arguments).then(function (res) {\r\n            canRun = true;\r\n            return res;\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./public/src/javascripts/thrities.js","import { addOne } from '../addOne';\nimport thrities from '../thrities';\n\nxtag.register('x-star', {\n\n  content: `<div class=\"star\">五角星点赞</div>`,\n\n  lifecycle:{\n    created: function(){\n        this.thrities = thrities(addOne('/proxy'));\n    }\n  },\n  methods:{\n\n    praiseClick(elem) {\n\n        this.thrities(this['data-id']).then((res)=>{\n            this['data-number'] = ++this['data-number'];\n            ////渲染页面\n            // this.render(elem);\n        }).catch(function (err) {\n            alert(err.message);\n        });\n    }\n  },\n  events:{\n    click:function(e){\n        if(e.target.className === 'star'){\n            this.praiseClick(e.target);\n        }\n    }\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./public/src/javascripts/components/x-star.js"],"sourceRoot":""}